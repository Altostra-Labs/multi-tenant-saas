{
	"id": "multi-tenant-saas",
	"name": "multi-tenant-saas",
	"type": "altostra",
	"description": "An empty project template",
	"created": "2023-06-08T15:05:49.303Z",
	"blueprints": [
		{
			"id": "ImportedBlueprint_ez00a9z",
			"name": "Imported blueprint",
			"description": "Template to create dynamodb tables as part of bootstrap\n",
			"version": "2019-10-24",
			"resources": {
				"ServerlessSaaSSettingsTable": {
					"id": "ServerlessSaaSSettingsTable",
					"name": "Settings",
					"tableName": "ServerlessSaaS-Settings",
					"key": {
						"hash": {
							"name": "settingName",
							"type": "STRING"
						}
					},
					"aws": {
						"billingModel": "PROVISIONED",
						"throughput": {
							"readUnits": 5,
							"writeUnits": 5
						}
					},
					"type": "resource.table"
				},
				"TenantStackMappingTable": {
					"id": "TenantStackMappingTable",
					"name": "TenantStackMapping",
					"tableName": "ServerlessSaaS-TenantStackMapping",
					"key": {
						"hash": {
							"name": "tenantId",
							"type": "STRING"
						}
					},
					"aws": {
						"billingModel": "PROVISIONED",
						"throughput": {
							"readUnits": 5,
							"writeUnits": 5
						}
					},
					"type": "resource.table"
				},
				"TenantDetailsTable": {
					"id": "TenantDetailsTable",
					"name": "TenantDetails",
					"tableName": "ServerlessSaaS-TenantDetails",
					"key": {
						"hash": {
							"name": "tenantId",
							"type": "STRING"
						}
					},
					"primaryIndexes": [
						{
							"name": "ServerlessSaas-TenantConfig",
							"key": {
								"hash": {
									"name": "tenantName",
									"type": "STRING"
								}
							},
							"projection": {
								"type": "table.index.projection.include",
								"attributes": [
									"userPoolId",
									"appClientId",
									"apiGatewayUrl"
								]
							},
							"throughput": {
								"readUnits": 5,
								"writeUnits": 5
							}
						}
					],
					"aws": {
						"billingModel": "PROVISIONED",
						"throughput": {
							"readUnits": 5,
							"writeUnits": 5
						}
					},
					"type": "resource.table"
				},
				"TenantUserMappingTable": {
					"id": "TenantUserMappingTable",
					"name": "TenantUserMapping",
					"tableName": "ServerlessSaaS-TenantUserMapping",
					"key": {
						"hash": {
							"name": "tenantId",
							"type": "STRING"
						},
						"range": {
							"name": "userName",
							"type": "STRING"
						}
					},
					"primaryIndexes": [
						{
							"name": "UserName",
							"key": {
								"hash": {
									"name": "userName",
									"type": "STRING"
								},
								"range": {
									"name": "tenantId",
									"type": "STRING"
								}
							},
							"projection": {
								"type": "table.index.projection.all"
							},
							"throughput": {
								"readUnits": 5,
								"writeUnits": 5
							}
						}
					],
					"aws": {
						"billingModel": "PROVISIONED",
						"throughput": {
							"readUnits": 5,
							"writeUnits": 5
						}
					},
					"type": "resource.table"
				},
				"MyImportedPool01": {
					"type": "resource.external",
					"name": "my-imported-pool",
					"externalResourceType": "resource.cognito.user-pool",
					"identifier": "arn:aws:cognito-idp:us-east-1:123456789012:userpool/us-east-1_Abcd12abc",
					"id": "MyImportedPool01"
				},
				"SharedServicesAuthorizerFunction01": {
					"type": "resource.compute.function",
					"name": "SharedServicesAuthorizerFunction",
					"memory": 256,
					"timeout": 29,
					"entryPoint": "functions/Resources/shared_service_authorizer.lambda_handler",
					"runtime": "python3.9",
					"endpointUrl": {
						"enabled": false,
						"authenticated": false
					},
					"packageType": "zip",
					"layers": [],
					"policies": [
						"arn:aws:iam::aws:policy/CloudWatchLambdaInsightsExecutionRolePolicy",
						"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
						"arn:aws:iam::aws:policy/AWSXrayWriteOnlyAccess"
					],
					"environment": {
						"variables": {
							"OPERATION_USERS_API_KEY": "",
							"OPERATION_USERS_APP_CLIENT": "",
							"OPERATION_USERS_USER_POOL": ""
						}
					},
					"id": "SharedServicesAuthorizerFunction01"
				},
				"AuthorizerPolicy01": {
					"type": "resource.access.policy",
					"name": "AuthorizerPolicy",
					"policyDocument": {
						"Version": "2012-10-17",
						"Statement": [
							{
								"Effect": "Allow",
								"Action": [
									"cognito-idp:List*"
								],
								"Resource": [
									{
										"Fn::Sub": "arn:aws:cognito-idp:${AWS::Region}:${AWS::AccountId}:userpool/*"
									}
								]
							}
						]
					},
					"id": "AuthorizerPolicy01"
				},
				"CreateTenantAdminUserFunction01": {
					"type": "resource.compute.function",
					"name": "CreateTenantAdminUserFunction",
					"memory": 512,
					"timeout": 6,
					"entryPoint": "functions/TenantManagementService/user-management.create_tenant_admin_user",
					"runtime": "python3.9",
					"endpointUrl": {
						"enabled": false,
						"authenticated": false
					},
					"packageType": "zip",
					"layers": [],
					"policies": [
						"arn:aws:iam::aws:policy/CloudWatchLambdaInsightsExecutionRolePolicy",
						"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
						"arn:aws:iam::aws:policy/AWSXrayWriteOnlyAccess"
					],
					"environment": {
						"variables": {
							"POWERTOOLS_SERVICE_NAME": "UserManagement.CreateTenantAdmin",
							"TENANT_USER_POOL_CALLBACK_URL": "",
							"TENANT_APP_CLIENT_ID": "",
							"TENANT_USER_POOL_ID": ""
						}
					},
					"id": "CreateTenantAdminUserFunction01"
				},
				"AllowCognitoIDP": {
					"type": "resource.access.policy",
					"name": "AllowCognitoIDPPolicy",
					"policyDocument": {
						"Version": "2012-10-17",
						"Statement": [
							{
								"Effect": "Allow",
								"Action": [
									"cognito-idp:*"
								],
								"Resource": "*"
							}
						]
					},
					"id": "AllowCognitoIDP"
				},
				"CreateUserFunction01": {
					"type": "resource.compute.function",
					"name": "CreateUserFunction",
					"memory": 256,
					"timeout": 29,
					"entryPoint": "functions/TenantManagementService/user-management.create_user",
					"runtime": "python3.9",
					"endpointUrl": {
						"enabled": false,
						"authenticated": false
					},
					"packageType": "zip",
					"layers": [],
					"policies": [
						"arn:aws:iam::aws:policy/CloudWatchLambdaInsightsExecutionRolePolicy",
						"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
						"arn:aws:iam::aws:policy/AWSXrayWriteOnlyAccess"
					],
					"environment": {
						"variables": {
							"POWERTOOLS_SERVICE_NAME": "UserManagement.CreateUser"
						}
					},
					"id": "CreateUserFunction01"
				},
				"UpdateUserFunction01": {
					"type": "resource.compute.function",
					"name": "UpdateUserFunction",
					"memory": 256,
					"timeout": 29,
					"entryPoint": "functions/TenantManagementService/user-management.update_user",
					"runtime": "python3.9",
					"endpointUrl": {
						"enabled": false,
						"authenticated": false
					},
					"packageType": "zip",
					"layers": [],
					"policies": [
						"arn:aws:iam::aws:policy/CloudWatchLambdaInsightsExecutionRolePolicy",
						"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
						"arn:aws:iam::aws:policy/AWSXrayWriteOnlyAccess"
					],
					"environment": {
						"variables": {
							"POWERTOOLS_SERVICE_NAME": "UserManagement.UpdateUser"
						}
					},
					"id": "UpdateUserFunction01"
				},
				"DisableUserFunction01": {
					"type": "resource.compute.function",
					"name": "DisableUserFunction",
					"memory": 256,
					"timeout": 29,
					"entryPoint": "functions/TenantManagementService/user-management.disable_user",
					"runtime": "python3.9",
					"endpointUrl": {
						"enabled": false,
						"authenticated": false
					},
					"packageType": "zip",
					"layers": [],
					"policies": [
						"arn:aws:iam::aws:policy/CloudWatchLambdaInsightsExecutionRolePolicy",
						"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
						"arn:aws:iam::aws:policy/AWSXrayWriteOnlyAccess"
					],
					"environment": {
						"variables": {
							"POWERTOOLS_SERVICE_NAME": "UserManagement.DisableUser"
						}
					},
					"id": "DisableUserFunction01"
				},
				"DisableUsersByTenantFunction": {
					"type": "resource.compute.function",
					"name": "DisableUsersByTenantFunction",
					"memory": 256,
					"timeout": 29,
					"entryPoint": "functions/TenantManagementService/user-management.disable_user",
					"runtime": "python3.9",
					"endpointUrl": {
						"enabled": false,
						"authenticated": false
					},
					"packageType": "zip",
					"layers": [],
					"policies": [
						"arn:aws:iam::aws:policy/CloudWatchLambdaInsightsExecutionRolePolicy",
						"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
						"arn:aws:iam::aws:policy/AWSXrayWriteOnlyAccess"
					],
					"environment": {
						"variables": {
							"POWERTOOLS_SERVICE_NAME": "UserManagement.DisableUsersByTenant"
						}
					},
					"id": "DisableUsersByTenantFunction"
				},
				"EnableUsersByTenantFunction": {
					"type": "resource.compute.function",
					"name": "EnableUsersByTenantFunction",
					"memory": 256,
					"timeout": 29,
					"entryPoint": "functions/TenantManagementService/user-management.enable_users_by_tenant",
					"runtime": "python3.9",
					"endpointUrl": {
						"enabled": false,
						"authenticated": false
					},
					"packageType": "zip",
					"layers": [],
					"policies": [
						"arn:aws:iam::aws:policy/CloudWatchLambdaInsightsExecutionRolePolicy",
						"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
						"arn:aws:iam::aws:policy/AWSXrayWriteOnlyAccess"
					],
					"environment": {
						"variables": {
							"POWERTOOLS_SERVICE_NAME": "UserManagement.EnableUsersByTenant"
						}
					},
					"id": "EnableUsersByTenantFunction"
				},
				"GetUserFunction": {
					"type": "resource.compute.function",
					"name": "GetUserFunction",
					"memory": 256,
					"timeout": 29,
					"entryPoint": "functions/TenantManagementService/user-management.get_user",
					"runtime": "python3.9",
					"endpointUrl": {
						"enabled": false,
						"authenticated": false
					},
					"packageType": "zip",
					"layers": [],
					"policies": [
						"arn:aws:iam::aws:policy/CloudWatchLambdaInsightsExecutionRolePolicy",
						"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
						"arn:aws:iam::aws:policy/AWSXrayWriteOnlyAccess"
					],
					"environment": {
						"variables": {
							"POWERTOOLS_SERVICE_NAME": "UserManagement.GetUser"
						}
					},
					"id": "GetUserFunction"
				},
				"GetUsersFunction": {
					"type": "resource.compute.function",
					"name": "GetUsersFunction",
					"memory": 256,
					"timeout": 29,
					"entryPoint": "functions/TenantManagementService/user-management.get_users",
					"runtime": "python3.9",
					"endpointUrl": {
						"enabled": false,
						"authenticated": false
					},
					"packageType": "zip",
					"layers": [],
					"policies": [
						"arn:aws:iam::aws:policy/CloudWatchLambdaInsightsExecutionRolePolicy",
						"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
						"arn:aws:iam::aws:policy/AWSXrayWriteOnlyAccess"
					],
					"environment": {
						"variables": {
							"POWERTOOLS_SERVICE_NAME": "UserManagement.GetUsers"
						}
					},
					"id": "GetUsersFunction"
				},
				"CreateTenantFunction01": {
					"type": "resource.compute.function",
					"name": "CreateTenantFunction",
					"memory": 512,
					"timeout": 29,
					"entryPoint": "functions/TenantManagementService/tenant-management.create_tenant",
					"runtime": "python3.9",
					"endpointUrl": {
						"enabled": false,
						"authenticated": false
					},
					"packageType": "zip",
					"layers": [],
					"policies": [
						"arn:aws:iam::aws:policy/CloudWatchLambdaInsightsExecutionRolePolicy",
						"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
						"arn:aws:iam::aws:policy/AWSXrayWriteOnlyAccess"
					],
					"environment": {
						"variables": {
							"POWERTOOLS_SERVICE_NAME": "TenantManagement.CreateTenant"
						}
					},
					"id": "CreateTenantFunction01"
				},
				"ActivateTenantFunction01": {
					"type": "resource.compute.function",
					"name": "ActivateTenantFunction",
					"memory": 512,
					"timeout": 29,
					"entryPoint": "functions/TenantManagementService/tenant-management.activate_tenant",
					"runtime": "python3.9",
					"endpointUrl": {
						"enabled": false,
						"authenticated": false
					},
					"packageType": "zip",
					"layers": [],
					"policies": [
						"arn:aws:iam::aws:policy/CloudWatchLambdaInsightsExecutionRolePolicy",
						"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
						"arn:aws:iam::aws:policy/AWSXrayWriteOnlyAccess"
					],
					"environment": {
						"variables": {
							"PROVISION_TENANT": "/provisioning/",
							"ENABLE_USERS_BY_TENANT": "/users/enable",
							"POWERTOOLS_SERVICE_NAME": "TenantManagement.ActivateTenant"
						}
					},
					"id": "ActivateTenantFunction01"
				},
				"GetTenantFunction01": {
					"type": "resource.compute.function",
					"name": "GetTenantFunction",
					"memory": 512,
					"timeout": 29,
					"entryPoint": "functions/TenantManagementService/tenant-management.get_tenant",
					"runtime": "python3.9",
					"endpointUrl": {
						"enabled": false,
						"authenticated": false
					},
					"packageType": "zip",
					"layers": [],
					"policies": [
						"arn:aws:iam::aws:policy/CloudWatchLambdaInsightsExecutionRolePolicy",
						"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
						"arn:aws:iam::aws:policy/AWSXrayWriteOnlyAccess"
					],
					"environment": {
						"variables": {
							"POWERTOOLS_SERVICE_NAME": "TenantManagement.GetTenant"
						}
					},
					"id": "GetTenantFunction01"
				},
				"DeactivateTenantFunction01": {
					"type": "resource.compute.function",
					"name": "DeactivateTenantFunction",
					"memory": 512,
					"timeout": 29,
					"entryPoint": "functions/TenantManagementService/tenant-management.deactivate_tenant",
					"runtime": "python3.9",
					"endpointUrl": {
						"enabled": false,
						"authenticated": false
					},
					"packageType": "zip",
					"layers": [],
					"policies": [
						"arn:aws:iam::aws:policy/CloudWatchLambdaInsightsExecutionRolePolicy",
						"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
						"arn:aws:iam::aws:policy/AWSXrayWriteOnlyAccess"
					],
					"environment": {
						"variables": {
							"DISABLE_USERS_BY_TENANT": "/users/disable",
							"DEPROVISION_TENANT": "/provisioning/",
							"POWERTOOLS_SERVICE_NAME": "TenantManagement.DeactivateTenant"
						}
					},
					"id": "DeactivateTenantFunction01"
				},
				"UpdateTenantFunction01": {
					"type": "resource.compute.function",
					"name": "UpdateTenantFunction",
					"memory": 512,
					"timeout": 29,
					"entryPoint": "functions/TenantManagementService/tenant-management.update_tenant",
					"runtime": "python3.9",
					"endpointUrl": {
						"enabled": false,
						"authenticated": false
					},
					"packageType": "zip",
					"layers": [],
					"policies": [
						"arn:aws:iam::aws:policy/CloudWatchLambdaInsightsExecutionRolePolicy",
						"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
						"arn:aws:iam::aws:policy/AWSXrayWriteOnlyAccess"
					],
					"environment": {
						"variables": {
							"BASIC_TIER_API_KEY": "",
							"STANDARD_TIER_API_KEY": "",
							"PREMIUM_TIER_API_KEY": "",
							"PLATINUM_TIER_API_KEY": "",
							"POWERTOOLS_SERVICE_NAME": "TenantManagement.UpdateTenant"
						}
					},
					"id": "UpdateTenantFunction01"
				},
				"GetTenantsFunction01": {
					"type": "resource.compute.function",
					"name": "GetTenantsFunction",
					"memory": 512,
					"timeout": 29,
					"entryPoint": "functions/TenantManagementService/tenant-management.get_tenants",
					"runtime": "python3.9",
					"endpointUrl": {
						"enabled": false,
						"authenticated": false
					},
					"packageType": "zip",
					"layers": [],
					"policies": [
						"arn:aws:iam::aws:policy/CloudWatchLambdaInsightsExecutionRolePolicy",
						"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
						"arn:aws:iam::aws:policy/AWSXrayWriteOnlyAccess"
					],
					"environment": {
						"variables": {}
					},
					"id": "GetTenantsFunction01"
				},
				"GetTenantConfigFunction01": {
					"type": "resource.compute.function",
					"name": "GetTenantConfigFunction",
					"memory": 512,
					"timeout": 29,
					"entryPoint": "functions/TenantManagementService/tenant-management.load_tenant_config",
					"runtime": "python3.9",
					"endpointUrl": {
						"enabled": false,
						"authenticated": false
					},
					"packageType": "zip",
					"layers": [],
					"policies": [
						"arn:aws:iam::aws:policy/CloudWatchLambdaInsightsExecutionRolePolicy",
						"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
						"arn:aws:iam::aws:policy/AWSXrayWriteOnlyAccess"
					],
					"environment": {
						"variables": {}
					},
					"id": "GetTenantConfigFunction01"
				},
				"AssumeRole01": {
					"type": "resource.access.policy",
					"name": "AssumeRolePolicy",
					"policyDocument": {
						"Version": "2012-10-17",
						"Statement": [
							{
								"Effect": "Allow",
								"Action": "sts:AssumeRole",
								"Resource": "*"
							}
						]
					},
					"id": "AssumeRole01"
				},
				"RegisterTenantFunction01": {
					"type": "resource.compute.function",
					"name": "RegisterTenantFunction",
					"memory": 512,
					"timeout": 6,
					"entryPoint": "functions/TenantManagementService/tenant-registration.register_tenant",
					"runtime": "python3.9",
					"endpointUrl": {
						"enabled": false,
						"authenticated": false
					},
					"packageType": "zip",
					"layers": [],
					"policies": [
						"arn:aws:iam::aws:policy/CloudWatchLambdaInsightsExecutionRolePolicy",
						"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
						"arn:aws:iam::aws:policy/AWSXrayWriteOnlyAccess"
					],
					"environment": {
						"variables": {
							"TENANT_APP_CLIENT_ID": "",
							"TENANT_USER_POOL_ID": "",
							"POWERTOOLS_SERVICE_NAME": "TenantRegistration.RegisterTenant",
							"BASIC_TIER_API_KEY": "",
							"STANDARD_TIER_API_KEY": "",
							"PREMIUM_TIER_API_KEY": "",
							"PLATINUM_TIER_API_KEY": ""
						}
					},
					"id": "RegisterTenantFunction01"
				},
				"ProvisionTenantFunction01": {
					"type": "resource.compute.function",
					"name": "ProvisionTenantFunction",
					"memory": 512,
					"timeout": 6,
					"entryPoint": "functions/TenantManagementService/tenant-provisioning.provision_tenant",
					"runtime": "python3.9",
					"endpointUrl": {
						"enabled": false,
						"authenticated": false
					},
					"packageType": "zip",
					"layers": [],
					"policies": [
						"arn:aws:iam::aws:policy/CloudWatchLambdaInsightsExecutionRolePolicy",
						"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
						"arn:aws:iam::aws:policy/AWSXrayWriteOnlyAccess"
					],
					"environment": {
						"variables": {}
					},
					"id": "ProvisionTenantFunction01"
				},
				"DeProvisionTenantFunction01": {
					"type": "resource.compute.function",
					"name": "DeProvisionTenantFunction",
					"memory": 512,
					"timeout": 6,
					"entryPoint": "functions/TenantManagementService/tenant-provisioning.deprovision_tenant",
					"runtime": "python3.9",
					"endpointUrl": {
						"enabled": false,
						"authenticated": false
					},
					"packageType": "zip",
					"layers": [],
					"policies": [
						"arn:aws:iam::aws:policy/CloudWatchLambdaInsightsExecutionRolePolicy",
						"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
						"arn:aws:iam::aws:policy/AWSXrayWriteOnlyAccess"
					],
					"environment": {
						"variables": {}
					},
					"id": "DeProvisionTenantFunction01"
				},
				"UpdateSettingsTableFunction01": {
					"type": "resource.compute.function",
					"name": "UpdateSettingsTableFunction",
					"memory": 512,
					"timeout": 6,
					"entryPoint": "functions/custom_resources/update_settings_table.handler",
					"runtime": "python3.9",
					"endpointUrl": {
						"enabled": false,
						"authenticated": false
					},
					"packageType": "zip",
					"layers": [],
					"policies": [
						"arn:aws:iam::aws:policy/CloudWatchLambdaInsightsExecutionRolePolicy",
						"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
						"arn:aws:iam::aws:policy/AWSXrayWriteOnlyAccess"
					],
					"environment": {
						"variables": {
							"cognitoUserPoolClientId": "",
							"cognitoUserPoolId": ""
						}
					},
					"id": "UpdateSettingsTableFunction01"
				},
				"UpdateTenantStackMapTableFunction01": {
					"type": "resource.compute.function",
					"name": "UpdateTenantStackMapTableFunction",
					"memory": 512,
					"timeout": 6,
					"entryPoint": "functions/custom_resources/update_tenantstackmap_table.handler",
					"runtime": "python3.9",
					"endpointUrl": {
						"enabled": false,
						"authenticated": false
					},
					"packageType": "zip",
					"layers": [],
					"policies": [
						"arn:aws:iam::aws:policy/CloudWatchLambdaInsightsExecutionRolePolicy",
						"arn:aws:iam::aws:policy/service-role/AWSLambdaBasicExecutionRole",
						"arn:aws:iam::aws:policy/AWSXrayWriteOnlyAccess"
					],
					"environment": {
						"variables": {}
					},
					"id": "UpdateTenantStackMapTableFunction01"
				},
				"AdminApiGatewayApi": {
					"type": "resource.api",
					"name": "AdminApiGatewayApi",
					"cors": {
						"type": "api.cors.none"
					},
					"endpoints": [
						{
							"type": "ref",
							"id": "ApiEndpoint01"
						},
						{
							"type": "ref",
							"id": "ApiEndpoint02"
						},
						{
							"type": "ref",
							"id": "ApiEndpoint03"
						},
						{
							"type": "ref",
							"id": "ApiEndpoint04"
						},
						{
							"type": "ref",
							"id": "ApiEndpoint05"
						},
						{
							"type": "ref",
							"id": "ApiEndpoint06"
						},
						{
							"type": "ref",
							"id": "ApiEndpoint07"
						},
						{
							"type": "ref",
							"id": "ApiEndpoint08"
						},
						{
							"type": "ref",
							"id": "ApiEndpoint09"
						},
						{
							"type": "ref",
							"id": "ApiEndpoint10"
						},
						{
							"type": "ref",
							"id": "ApiEndpoint11"
						},
						{
							"type": "ref",
							"id": "ApiEndpoint12"
						},
						{
							"type": "ref",
							"id": "ApiEndpoint13"
						},
						{
							"type": "ref",
							"id": "ApiEndpoint14"
						},
						{
							"type": "ref",
							"id": "ApiEndpoint15"
						},
						{
							"type": "ref",
							"id": "ApiEndpoint16"
						},
						{
							"type": "ref",
							"id": "ApiEndpoint17"
						},
						{
							"type": "ref",
							"id": "ApiEndpoint18"
						},
						{
							"type": "ref",
							"id": "ApiEndpoint19"
						}
					],
					"id": "AdminApiGatewayApi"
				},
				"ApiEndpoint01": {
					"type": "resource.api.endpoint",
					"name": "api-endpoint",
					"method": "POST",
					"path": "/registration",
					"api": {
						"type": "ref",
						"id": "AdminApiGatewayApi"
					},
					"id": "ApiEndpoint01"
				},
				"ApiEndpoint02": {
					"type": "resource.api.endpoint",
					"name": "api-endpoint",
					"method": "POST",
					"path": "/provisioning",
					"api": {
						"type": "ref",
						"id": "AdminApiGatewayApi"
					},
					"id": "ApiEndpoint02"
				},
				"ApiEndpoint03": {
					"type": "resource.api.endpoint",
					"name": "api-endpoint",
					"method": "PUT",
					"path": "/provisioning/{tenantid}",
					"api": {
						"type": "ref",
						"id": "AdminApiGatewayApi"
					},
					"id": "ApiEndpoint03"
				},
				"ApiEndpoint04": {
					"type": "resource.api.endpoint",
					"name": "api-endpoint",
					"method": "PUT",
					"path": "/tenant/activation/{tenantid}",
					"api": {
						"type": "ref",
						"id": "AdminApiGatewayApi"
					},
					"id": "ApiEndpoint04"
				},
				"ApiEndpoint05": {
					"type": "resource.api.endpoint",
					"name": "api-endpoint",
					"method": "GET",
					"path": "/tenants",
					"api": {
						"type": "ref",
						"id": "AdminApiGatewayApi"
					},
					"id": "ApiEndpoint05"
				},
				"ApiEndpoint06": {
					"type": "resource.api.endpoint",
					"name": "api-endpoint",
					"method": "POST",
					"path": "/tenant",
					"api": {
						"type": "ref",
						"id": "AdminApiGatewayApi"
					},
					"id": "ApiEndpoint06"
				},
				"ApiEndpoint07": {
					"type": "resource.api.endpoint",
					"name": "api-endpoint",
					"method": "GET",
					"path": "/tenant/init/{tenantname}",
					"api": {
						"type": "ref",
						"id": "AdminApiGatewayApi"
					},
					"id": "ApiEndpoint07"
				},
				"ApiEndpoint08": {
					"type": "resource.api.endpoint",
					"name": "api-endpoint",
					"method": "GET",
					"path": "/tenant/{tenantid}",
					"api": {
						"type": "ref",
						"id": "AdminApiGatewayApi"
					},
					"id": "ApiEndpoint08"
				},
				"ApiEndpoint09": {
					"type": "resource.api.endpoint",
					"name": "api-endpoint",
					"method": "DELETE",
					"path": "/tenant/{tenantid}",
					"api": {
						"type": "ref",
						"id": "AdminApiGatewayApi"
					},
					"id": "ApiEndpoint09"
				},
				"ApiEndpoint10": {
					"type": "resource.api.endpoint",
					"name": "api-endpoint",
					"method": "PUT",
					"path": "/tenant/{tenantid}",
					"api": {
						"type": "ref",
						"id": "AdminApiGatewayApi"
					},
					"id": "ApiEndpoint10"
				},
				"ApiEndpoint11": {
					"type": "resource.api.endpoint",
					"name": "api-endpoint",
					"method": "GET",
					"path": "/user/{username}",
					"api": {
						"type": "ref",
						"id": "AdminApiGatewayApi"
					},
					"id": "ApiEndpoint11"
				},
				"ApiEndpoint12": {
					"type": "resource.api.endpoint",
					"name": "api-endpoint",
					"method": "PUT",
					"path": "/user/{username}",
					"api": {
						"type": "ref",
						"id": "AdminApiGatewayApi"
					},
					"id": "ApiEndpoint12"
				},
				"ApiEndpoint13": {
					"type": "resource.api.endpoint",
					"name": "api-endpoint",
					"method": "DELETE",
					"path": "/user/{username}",
					"api": {
						"type": "ref",
						"id": "AdminApiGatewayApi"
					},
					"id": "ApiEndpoint13"
				},
				"ApiEndpoint14": {
					"type": "resource.api.endpoint",
					"name": "api-endpoint",
					"method": "POST",
					"path": "/user/tenant-admin",
					"api": {
						"type": "ref",
						"id": "AdminApiGatewayApi"
					},
					"id": "ApiEndpoint14"
				},
				"ApiEndpoint15": {
					"type": "resource.api.endpoint",
					"name": "api-endpoint",
					"method": "POST",
					"path": "/user",
					"api": {
						"type": "ref",
						"id": "AdminApiGatewayApi"
					},
					"id": "ApiEndpoint15"
				},
				"ApiEndpoint16": {
					"type": "resource.api.endpoint",
					"name": "api-endpoint",
					"method": "GET",
					"path": "/users",
					"api": {
						"type": "ref",
						"id": "AdminApiGatewayApi"
					},
					"id": "ApiEndpoint16"
				},
				"ApiEndpoint17": {
					"type": "resource.api.endpoint",
					"name": "api-endpoint",
					"method": "PUT",
					"path": "/users/disable",
					"api": {
						"type": "ref",
						"id": "AdminApiGatewayApi"
					},
					"id": "ApiEndpoint17"
				},
				"ApiEndpoint18": {
					"type": "resource.api.endpoint",
					"name": "api-endpoint",
					"method": "PUT",
					"path": "/users/enable",
					"api": {
						"type": "ref",
						"id": "AdminApiGatewayApi"
					},
					"id": "ApiEndpoint18"
				},
				"CustomResources01": {
					"type": "resource.cloud-formation.custom-resources",
					"name": "CustomResources",
					"resources": {
						"UpdateSettingsTable": {
							"Type": "Custom::UpdateSettingsTable",
							"Properties": {
								"ServiceToken": {
									"Fn::GetAtt": [
										"UpdateSettingsTableFunction01",
										"Arn"
									]
								},
								"SettingsTableName": {
									"Ref": "ServerlessSaaSSettingsTable"
								}
							}
						},
						"UpdateTenantStackMap": {
							"Type": "Custom::UpdateTenantStackMap",
							"Properties": {
								"ServiceToken": {
									"Fn::GetAtt": [
										"UpdateTenantStackMapTableFunction01",
										"Arn"
									]
								},
								"TenantStackMappingTableName": {
									"Ref": "TenantStackMappingTable"
								}
							}
						}
					},
					"id": "CustomResources01"
				},
				"ApiEndpoint19": {
					"type": "resource.api.endpoint",
					"name": "api-endpoint",
					"method": "OPTIONS",
					"path": "/{proxy+}",
					"api": {
						"type": "ref",
						"id": "AdminApiGatewayApi"
					},
					"authorizer": null,
					"id": "ApiEndpoint19"
				},
				"CorsoptionsHandler01": {
					"type": "resource.compute.function",
					"name": "CORSOptionsHandler",
					"memory": 256,
					"timeout": 6,
					"entryPoint": "functions/cors_options_handler.handler",
					"runtime": "python3.9",
					"endpointUrl": {
						"enabled": false,
						"authenticated": false
					},
					"packageType": "zip",
					"layers": [],
					"environment": {
						"variables": {}
					},
					"id": "CorsoptionsHandler01"
				}
			},
			"connections": {
				"SharedServicesAuthorizerFunction01": {
					"TenantDetailsTable": {
						"type": "connection.resource-access",
						"accessLevel": "read-only",
						"from": "SharedServicesAuthorizerFunction01",
						"to": "TenantDetailsTable"
					}
				},
				"AuthorizerPolicy01": {
					"SharedServicesAuthorizerFunction01": {
						"type": "connection.access.policy-attachment",
						"from": "AuthorizerPolicy01",
						"to": "SharedServicesAuthorizerFunction01"
					}
				},
				"AllowCognitoIDP": {
					"CreateTenantAdminUserFunction01": {
						"type": "connection.access.policy-attachment",
						"from": "AllowCognitoIDP",
						"to": "CreateTenantAdminUserFunction01"
					},
					"CreateUserFunction01": {
						"type": "connection.access.policy-attachment",
						"from": "AllowCognitoIDP",
						"to": "CreateUserFunction01"
					},
					"UpdateUserFunction01": {
						"type": "connection.access.policy-attachment",
						"from": "AllowCognitoIDP",
						"to": "UpdateUserFunction01"
					},
					"DisableUserFunction01": {
						"type": "connection.access.policy-attachment",
						"from": "AllowCognitoIDP",
						"to": "DisableUserFunction01"
					},
					"DisableUsersByTenantFunction": {
						"type": "connection.access.policy-attachment",
						"from": "AllowCognitoIDP",
						"to": "DisableUsersByTenantFunction"
					},
					"EnableUsersByTenantFunction": {
						"type": "connection.access.policy-attachment",
						"from": "AllowCognitoIDP",
						"to": "EnableUsersByTenantFunction"
					},
					"GetUserFunction": {
						"type": "connection.access.policy-attachment",
						"from": "AllowCognitoIDP",
						"to": "GetUserFunction"
					},
					"GetUsersFunction": {
						"type": "connection.access.policy-attachment",
						"from": "AllowCognitoIDP",
						"to": "GetUsersFunction"
					}
				},
				"CreateTenantAdminUserFunction01": {
					"TenantUserMappingTable": {
						"type": "connection.resource-access",
						"accessLevel": "write-only",
						"from": "CreateTenantAdminUserFunction01",
						"to": "TenantUserMappingTable"
					},
					"TenantDetailsTable": {
						"type": "connection.resource-access",
						"accessLevel": "read-only",
						"from": "CreateTenantAdminUserFunction01",
						"to": "TenantDetailsTable"
					}
				},
				"CreateUserFunction01": {
					"TenantUserMappingTable": {
						"type": "connection.resource-access",
						"accessLevel": "write-only",
						"from": "CreateUserFunction01",
						"to": "TenantUserMappingTable"
					},
					"TenantDetailsTable": {
						"type": "connection.resource-access",
						"accessLevel": "read-only",
						"from": "CreateUserFunction01",
						"to": "TenantDetailsTable"
					}
				},
				"UpdateUserFunction01": {
					"TenantDetailsTable": {
						"type": "connection.resource-access",
						"accessLevel": "read-only",
						"from": "UpdateUserFunction01",
						"to": "TenantDetailsTable"
					},
					"TenantUserMappingTable": {
						"type": "connection.resource-access",
						"accessLevel": "read-only",
						"from": "UpdateUserFunction01",
						"to": "TenantUserMappingTable"
					}
				},
				"DisableUserFunction01": {
					"TenantDetailsTable": {
						"type": "connection.resource-access",
						"accessLevel": "read-only",
						"from": "DisableUserFunction01",
						"to": "TenantDetailsTable"
					},
					"TenantUserMappingTable": {
						"type": "connection.resource-access",
						"accessLevel": "read-only",
						"from": "DisableUserFunction01",
						"to": "TenantUserMappingTable"
					}
				},
				"DisableUsersByTenantFunction": {
					"TenantDetailsTable": {
						"type": "connection.resource-access",
						"accessLevel": "read-only",
						"from": "DisableUsersByTenantFunction",
						"to": "TenantDetailsTable"
					},
					"TenantUserMappingTable": {
						"type": "connection.resource-access",
						"accessLevel": "read-only",
						"from": "DisableUsersByTenantFunction",
						"to": "TenantUserMappingTable"
					}
				},
				"EnableUsersByTenantFunction": {
					"TenantDetailsTable": {
						"type": "connection.resource-access",
						"accessLevel": "read-only",
						"from": "EnableUsersByTenantFunction",
						"to": "TenantDetailsTable"
					},
					"TenantUserMappingTable": {
						"type": "connection.resource-access",
						"accessLevel": "read-only",
						"from": "EnableUsersByTenantFunction",
						"to": "TenantUserMappingTable"
					}
				},
				"GetUserFunction": {
					"TenantDetailsTable": {
						"type": "connection.resource-access",
						"accessLevel": "read-only",
						"from": "GetUserFunction",
						"to": "TenantDetailsTable"
					},
					"TenantUserMappingTable": {
						"type": "connection.resource-access",
						"accessLevel": "read-only",
						"from": "GetUserFunction",
						"to": "TenantUserMappingTable"
					}
				},
				"GetUsersFunction": {
					"TenantDetailsTable": {
						"type": "connection.resource-access",
						"accessLevel": "read-only",
						"from": "GetUsersFunction",
						"to": "TenantDetailsTable"
					},
					"TenantUserMappingTable": {
						"type": "connection.resource-access",
						"accessLevel": "read-only",
						"from": "GetUsersFunction",
						"to": "TenantUserMappingTable"
					}
				},
				"CreateTenantFunction01": {
					"TenantDetailsTable": {
						"type": "connection.resource-access",
						"accessLevel": "read-write",
						"from": "CreateTenantFunction01",
						"to": "TenantDetailsTable"
					},
					"ServerlessSaaSSettingsTable": {
						"type": "connection.resource-access",
						"accessLevel": "read-only",
						"from": "CreateTenantFunction01",
						"to": "ServerlessSaaSSettingsTable"
					}
				},
				"ActivateTenantFunction01": {
					"TenantDetailsTable": {
						"type": "connection.resource-access",
						"accessLevel": "read-write",
						"from": "ActivateTenantFunction01",
						"to": "TenantDetailsTable"
					},
					"ServerlessSaaSSettingsTable": {
						"type": "connection.resource-access",
						"accessLevel": "read-only",
						"from": "ActivateTenantFunction01",
						"to": "ServerlessSaaSSettingsTable"
					}
				},
				"GetTenantFunction01": {
					"TenantDetailsTable": {
						"type": "connection.resource-access",
						"accessLevel": "read-write",
						"from": "GetTenantFunction01",
						"to": "TenantDetailsTable"
					},
					"ServerlessSaaSSettingsTable": {
						"type": "connection.resource-access",
						"accessLevel": "read-only",
						"from": "GetTenantFunction01",
						"to": "ServerlessSaaSSettingsTable"
					}
				},
				"DeactivateTenantFunction01": {
					"TenantDetailsTable": {
						"type": "connection.resource-access",
						"accessLevel": "read-write",
						"from": "DeactivateTenantFunction01",
						"to": "TenantDetailsTable"
					},
					"ServerlessSaaSSettingsTable": {
						"type": "connection.resource-access",
						"accessLevel": "read-only",
						"from": "DeactivateTenantFunction01",
						"to": "ServerlessSaaSSettingsTable"
					}
				},
				"UpdateTenantFunction01": {
					"TenantDetailsTable": {
						"type": "connection.resource-access",
						"accessLevel": "read-write",
						"from": "UpdateTenantFunction01",
						"to": "TenantDetailsTable"
					},
					"ServerlessSaaSSettingsTable": {
						"type": "connection.resource-access",
						"accessLevel": "read-only",
						"from": "UpdateTenantFunction01",
						"to": "ServerlessSaaSSettingsTable"
					}
				},
				"GetTenantsFunction01": {
					"TenantDetailsTable": {
						"type": "connection.resource-access",
						"accessLevel": "read-write",
						"from": "GetTenantsFunction01",
						"to": "TenantDetailsTable"
					},
					"ServerlessSaaSSettingsTable": {
						"type": "connection.resource-access",
						"accessLevel": "read-only",
						"from": "GetTenantsFunction01",
						"to": "ServerlessSaaSSettingsTable"
					}
				},
				"GetTenantConfigFunction01": {
					"TenantDetailsTable": {
						"type": "connection.resource-access",
						"accessLevel": "read-write",
						"from": "GetTenantConfigFunction01",
						"to": "TenantDetailsTable"
					},
					"ServerlessSaaSSettingsTable": {
						"type": "connection.resource-access",
						"accessLevel": "read-only",
						"from": "GetTenantConfigFunction01",
						"to": "ServerlessSaaSSettingsTable"
					}
				},
				"AssumeRole01": {
					"ActivateTenantFunction01": {
						"type": "connection.access.policy-attachment",
						"from": "AssumeRole01",
						"to": "ActivateTenantFunction01"
					},
					"CreateTenantFunction01": {
						"type": "connection.access.policy-attachment",
						"from": "AssumeRole01",
						"to": "CreateTenantFunction01"
					},
					"DeactivateTenantFunction01": {
						"type": "connection.access.policy-attachment",
						"from": "AssumeRole01",
						"to": "DeactivateTenantFunction01"
					},
					"GetTenantConfigFunction01": {
						"type": "connection.access.policy-attachment",
						"from": "AssumeRole01",
						"to": "GetTenantConfigFunction01"
					},
					"GetTenantFunction01": {
						"type": "connection.access.policy-attachment",
						"from": "AssumeRole01",
						"to": "GetTenantFunction01"
					},
					"GetTenantsFunction01": {
						"type": "connection.access.policy-attachment",
						"from": "AssumeRole01",
						"to": "GetTenantsFunction01"
					},
					"UpdateTenantFunction01": {
						"type": "connection.access.policy-attachment",
						"from": "AssumeRole01",
						"to": "UpdateTenantFunction01"
					},
					"DisableUserFunction01": {
						"type": "connection.access.policy-attachment",
						"from": "AssumeRole01",
						"to": "DisableUserFunction01"
					},
					"DisableUsersByTenantFunction": {
						"type": "connection.access.policy-attachment",
						"from": "AssumeRole01",
						"to": "DisableUsersByTenantFunction"
					},
					"EnableUsersByTenantFunction": {
						"type": "connection.access.policy-attachment",
						"from": "AssumeRole01",
						"to": "EnableUsersByTenantFunction"
					},
					"GetUserFunction": {
						"type": "connection.access.policy-attachment",
						"from": "AssumeRole01",
						"to": "GetUserFunction"
					},
					"GetUsersFunction": {
						"type": "connection.access.policy-attachment",
						"from": "AssumeRole01",
						"to": "GetUsersFunction"
					},
					"UpdateUserFunction01": {
						"type": "connection.access.policy-attachment",
						"from": "AssumeRole01",
						"to": "UpdateUserFunction01"
					},
					"ProvisionTenantFunction01": {
						"type": "connection.access.policy-attachment",
						"from": "AssumeRole01",
						"to": "ProvisionTenantFunction01"
					},
					"DeProvisionTenantFunction01": {
						"type": "connection.access.policy-attachment",
						"from": "AssumeRole01",
						"to": "DeProvisionTenantFunction01"
					},
					"UpdateSettingsTableFunction01": {
						"type": "connection.access.policy-attachment",
						"from": "AssumeRole01",
						"to": "UpdateSettingsTableFunction01"
					},
					"UpdateTenantStackMapTableFunction01": {
						"type": "connection.access.policy-attachment",
						"from": "AssumeRole01",
						"to": "UpdateTenantStackMapTableFunction01"
					}
				},
				"ProvisionTenantFunction01": {
					"TenantStackMappingTable": {
						"type": "connection.resource-access",
						"accessLevel": "write-only",
						"from": "ProvisionTenantFunction01",
						"to": "TenantStackMappingTable"
					}
				},
				"DeProvisionTenantFunction01": {
					"TenantStackMappingTable": {
						"type": "connection.resource-access",
						"accessLevel": "write-only",
						"from": "DeProvisionTenantFunction01",
						"to": "TenantStackMappingTable"
					}
				},
				"UpdateSettingsTableFunction01": {
					"ServerlessSaaSSettingsTable": {
						"type": "connection.resource-access",
						"accessLevel": "write-only",
						"from": "UpdateSettingsTableFunction01",
						"to": "ServerlessSaaSSettingsTable"
					}
				},
				"UpdateTenantStackMapTableFunction01": {
					"TenantStackMappingTable": {
						"type": "connection.resource-access",
						"accessLevel": "write-only",
						"from": "UpdateTenantStackMapTableFunction01",
						"to": "TenantStackMappingTable"
					}
				},
				"ApiEndpoint01": {
					"RegisterTenantFunction01": {
						"type": "connection.trigger",
						"from": "ApiEndpoint01",
						"to": "RegisterTenantFunction01"
					}
				},
				"ApiEndpoint02": {
					"ProvisionTenantFunction01": {
						"type": "connection.trigger",
						"from": "ApiEndpoint02",
						"to": "ProvisionTenantFunction01"
					}
				},
				"ApiEndpoint03": {
					"DeProvisionTenantFunction01": {
						"type": "connection.trigger",
						"from": "ApiEndpoint03",
						"to": "DeProvisionTenantFunction01"
					}
				},
				"ApiEndpoint04": {
					"ActivateTenantFunction01": {
						"type": "connection.trigger",
						"from": "ApiEndpoint04",
						"to": "ActivateTenantFunction01"
					}
				},
				"ApiEndpoint05": {
					"GetTenantsFunction01": {
						"type": "connection.trigger",
						"from": "ApiEndpoint05",
						"to": "GetTenantsFunction01"
					}
				},
				"ApiEndpoint06": {
					"CreateTenantFunction01": {
						"type": "connection.trigger",
						"from": "ApiEndpoint06",
						"to": "CreateTenantFunction01"
					}
				},
				"ApiEndpoint07": {
					"GetTenantConfigFunction01": {
						"type": "connection.trigger",
						"from": "ApiEndpoint07",
						"to": "GetTenantConfigFunction01"
					}
				},
				"ApiEndpoint08": {
					"GetTenantFunction01": {
						"type": "connection.trigger",
						"from": "ApiEndpoint08",
						"to": "GetTenantFunction01"
					}
				},
				"ApiEndpoint09": {
					"DeactivateTenantFunction01": {
						"type": "connection.trigger",
						"from": "ApiEndpoint09",
						"to": "DeactivateTenantFunction01"
					}
				},
				"ApiEndpoint10": {
					"UpdateTenantFunction01": {
						"type": "connection.trigger",
						"from": "ApiEndpoint10",
						"to": "UpdateTenantFunction01"
					}
				},
				"ApiEndpoint11": {
					"GetUserFunction": {
						"type": "connection.trigger",
						"from": "ApiEndpoint11",
						"to": "GetUserFunction"
					}
				},
				"ApiEndpoint12": {
					"UpdateUserFunction01": {
						"type": "connection.trigger",
						"from": "ApiEndpoint12",
						"to": "UpdateUserFunction01"
					}
				},
				"ApiEndpoint13": {
					"DisableUserFunction01": {
						"type": "connection.trigger",
						"from": "ApiEndpoint13",
						"to": "DisableUserFunction01"
					}
				},
				"ApiEndpoint14": {
					"CreateTenantAdminUserFunction01": {
						"type": "connection.trigger",
						"from": "ApiEndpoint14",
						"to": "CreateTenantAdminUserFunction01"
					}
				},
				"ApiEndpoint15": {
					"CreateUserFunction01": {
						"type": "connection.trigger",
						"from": "ApiEndpoint15",
						"to": "CreateUserFunction01"
					}
				},
				"ApiEndpoint16": {
					"GetUsersFunction": {
						"type": "connection.trigger",
						"from": "ApiEndpoint16",
						"to": "GetUsersFunction"
					}
				},
				"ApiEndpoint17": {
					"DisableUsersByTenantFunction": {
						"type": "connection.trigger",
						"from": "ApiEndpoint17",
						"to": "DisableUsersByTenantFunction"
					}
				},
				"ApiEndpoint18": {
					"EnableUsersByTenantFunction": {
						"type": "connection.trigger",
						"from": "ApiEndpoint18",
						"to": "EnableUsersByTenantFunction"
					}
				},
				"AdminApiGatewayApi": {
					"SharedServicesAuthorizerFunction01": {
						"type": "connection.api.authorizer",
						"from": "AdminApiGatewayApi",
						"to": "SharedServicesAuthorizerFunction01",
						"cacheBehavior": {
							"cacheTimeout": 60
						}
					}
				},
				"ApiEndpoint19": {
					"CorsoptionsHandler01": {
						"type": "connection.trigger",
						"from": "ApiEndpoint19",
						"to": "CorsoptionsHandler01"
					}
				},
				"RegisterTenantFunction01": {
					"TenantUserMappingTable": {
						"type": "connection.resource-access",
						"accessLevel": "write-only",
						"from": "RegisterTenantFunction01",
						"to": "TenantUserMappingTable"
					},
					"ServerlessSaaSSettingsTable": {
						"type": "connection.resource-access",
						"accessLevel": "read-only",
						"from": "RegisterTenantFunction01",
						"to": "ServerlessSaaSSettingsTable"
					},
					"TenantDetailsTable": {
						"type": "connection.resource-access",
						"accessLevel": "read-write",
						"from": "RegisterTenantFunction01",
						"to": "TenantDetailsTable"
					},
					"TenantStackMappingTable": {
						"type": "connection.resource-access",
						"accessLevel": "write-only",
						"from": "RegisterTenantFunction01",
						"to": "TenantStackMappingTable"
					}
				}
			},
			"metadata": {
				"designer": {
					"resourcePositions": {
						"ServerlessSaaSSettingsTable": {
							"x": 219,
							"y": -35.78183174133301,
							"z": 0
						},
						"TenantStackMappingTable": {
							"x": 221.369873046875,
							"y": 742.59033203125,
							"z": 0
						},
						"TenantDetailsTable": {
							"x": 220,
							"y": 33.25709533691406,
							"z": 0
						},
						"TenantUserMappingTable": {
							"x": 222.73971557617188,
							"y": 695.1476211547852,
							"z": 0
						},
						"MyImportedPool01": {
							"x": 224.83929443359375,
							"y": -105.37284088134766,
							"z": 0
						},
						"SharedServicesAuthorizerFunction01": {
							"x": 174.07992553710938,
							"y": 97.45868682861328,
							"z": 0
						},
						"AuthorizerPolicy01": {
							"x": 422.45457458496094,
							"y": -218.18181991577148,
							"z": 0
						},
						"CreateTenantAdminUserFunction01": {
							"x": -390,
							"y": 380,
							"z": 0
						},
						"AllowCognitoIDP": {
							"x": 204.45457458496094,
							"y": -218.18181991577148,
							"z": 0
						},
						"CreateUserFunction01": {
							"x": 760,
							"y": 440,
							"z": 0
						},
						"UpdateUserFunction01": {
							"x": -390,
							"y": 480,
							"z": 0
						},
						"DisableUserFunction01": {
							"x": -390,
							"y": 530,
							"z": 0
						},
						"DisableUsersByTenantFunction": {
							"x": 760,
							"y": 490,
							"z": 0
						},
						"EnableUsersByTenantFunction": {
							"x": 760,
							"y": 540,
							"z": 0
						},
						"GetUserFunction": {
							"x": -390,
							"y": 430,
							"z": 0
						},
						"GetUsersFunction": {
							"x": -390,
							"y": 580,
							"z": 0
						},
						"CreateTenantFunction01": {
							"x": -390,
							"y": 230,
							"z": 0
						},
						"ActivateTenantFunction01": {
							"x": 760,
							"y": 240,
							"z": 0
						},
						"GetTenantFunction01": {
							"x": 760,
							"y": 290,
							"z": 0
						},
						"DeactivateTenantFunction01": {
							"x": 760,
							"y": 340,
							"z": 0
						},
						"UpdateTenantFunction01": {
							"x": 760,
							"y": 390,
							"z": 0
						},
						"GetTenantsFunction01": {
							"x": -390,
							"y": 330,
							"z": 0
						},
						"GetTenantConfigFunction01": {
							"x": -390,
							"y": 280,
							"z": 0
						},
						"AssumeRole01": {
							"x": 20,
							"y": -220,
							"z": 0
						},
						"RegisterTenantFunction01": {
							"x": 760,
							"y": 190,
							"z": 0
						},
						"ProvisionTenantFunction01": {
							"x": 760,
							"y": 140,
							"z": 0
						},
						"DeProvisionTenantFunction01": {
							"x": -390,
							"y": 180,
							"z": 0
						},
						"UpdateSettingsTableFunction01": {
							"x": 760,
							"y": -50,
							"z": 0
						},
						"UpdateTenantStackMapTableFunction01": {
							"x": 760,
							"y": 730,
							"z": 0
						},
						"AdminApiGatewayApi": {
							"x": 220,
							"y": 155.54698944091797,
							"z": 0
						},
						"CustomResources01": {
							"x": 14.615386962890625,
							"y": -106.41537535190582,
							"z": 0
						},
						"CorsoptionsHandler01": {
							"x": 760,
							"y": 590,
							"z": 0
						}
					}
				}
			},
			"unsafe": true,
			"parameters": {
				"POOL_ID": {
					"paths": [
						"resources/MyImportedPool01/identifier",
						"resources/CreateTenantAdminUserFunction01/environment/variables/TENANT_USER_POOL_ID",
						"resources/UpdateSettingsTableFunction01/environment/variables/cognitoUserPoolId",
						"resources/RegisterTenantFunction01/environment/variables/TENANT_USER_POOL_ID"
					]
				},
				"ApiKeyOperationUsersParameter": {
					"paths": [
						"resources/SharedServicesAuthorizerFunction01/environment/variables/OPERATION_USERS_API_KEY"
					]
				},
				"CognitoOperationUsersUserPoolClientId": {
					"paths": [
						"resources/SharedServicesAuthorizerFunction01/environment/variables/OPERATION_USERS_APP_CLIENT"
					]
				},
				"CognitoOperationUsersUserPoolId": {
					"paths": [
						"resources/SharedServicesAuthorizerFunction01/environment/variables/OPERATION_USERS_USER_POOL"
					]
				},
				"TENANT_USER_POOL_CALLBACK_URL": {
					"paths": [
						"resources/CreateTenantAdminUserFunction01/environment/variables/TENANT_USER_POOL_CALLBACK_URL"
					]
				},
				"TENANT_APP_CLIENT_ID": {
					"paths": [
						"resources/CreateTenantAdminUserFunction01/environment/variables/TENANT_APP_CLIENT_ID",
						"resources/UpdateSettingsTableFunction01/environment/variables/cognitoUserPoolClientId",
						"resources/RegisterTenantFunction01/environment/variables/TENANT_APP_CLIENT_ID"
					]
				},
				"ApiKeyBasicTierParameter": {
					"paths": [
						"resources/UpdateTenantFunction01/environment/variables/BASIC_TIER_API_KEY",
						"resources/RegisterTenantFunction01/environment/variables/BASIC_TIER_API_KEY"
					]
				},
				"ApiKeyStandardTierParameter": {
					"paths": [
						"resources/UpdateTenantFunction01/environment/variables/STANDARD_TIER_API_KEY",
						"resources/RegisterTenantFunction01/environment/variables/STANDARD_TIER_API_KEY"
					]
				},
				"ApiKeyPremiumTierParameter": {
					"paths": [
						"resources/UpdateTenantFunction01/environment/variables/PREMIUM_TIER_API_KEY",
						"resources/RegisterTenantFunction01/environment/variables/PREMIUM_TIER_API_KEY"
					]
				},
				"ApiKeyPlatinumTierParameter": {
					"paths": [
						"resources/UpdateTenantFunction01/environment/variables/PLATINUM_TIER_API_KEY",
						"resources/RegisterTenantFunction01/environment/variables/PLATINUM_TIER_API_KEY"
					]
				}
			},
			"globalEnvironmentVariables": {
				"PYTHONPATH": "/var/task/src:/var/task/src/vendor",
				"POWERTOOLS_METRICS_NAMESPACE": "ServerlessSaaS",
				"LOG_LEVEL": "DEBUG"
			}
		}
	]
}
